version: 2.1

orbs:
  win: circleci/windows@5.0

parameters:
  executor-type:
    type: enum
    enum: [linux, windows]
    default: linux

jobs:
  build-linux:
    docker:
      - image: cimg/base:stable
    steps:
      - checkout
      - run: echo "Hello, Linux"

  build-windows:
    executor: win/default
    steps:
      - checkout
      - run: Write-Host 'Hello, Windows'

workflows:
  build:
    jobs:
      - build-linux:
          filters:
            branches:
              ignore: /.*/
          <<: *when-linux
      - build-windows:
          filters:
            branches:
              ignore: /.*/
          <<: *when-windows

# 下面是你可以在 dynamic config 或 setup workflows 里用的参数选择方式
