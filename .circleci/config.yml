version: 2.1

jobs:
  get-ip:
    docker:
      - image: cimg/base:stable
    steps:
      - checkout
      - run:
          name: 获取公网 IP
          command: |
            echo "您的公网 IP 是："
            curl ifconfig.me
      - run:
          name: 获取本地 IP
          command: |
            echo "您的本地 IP 是："
            hostname -I || ip addr show

workflows:
  version: 2
  get-ip-workflow:
    jobs:
      - get-ip
